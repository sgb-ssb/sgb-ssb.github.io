<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Kapittel 5 Utfordringer, hensyn og alternativer | Webscraping med R</title>
  <meta name="description" content="Kapittel 5 Utfordringer, hensyn og alternativer | Webscraping med R" />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Kapittel 5 Utfordringer, hensyn og alternativer | Webscraping med R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Kapittel 5 Utfordringer, hensyn og alternativer | Webscraping med R" />
  
  
  

<meta name="author" content="Solveig Bjørkholt" />


<meta name="date" content="2020-07-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="nettsidespråk.html"/>
<link rel="next" href="fra-html-til-tekst.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduksjon</a></li>
<li class="chapter" data-level="2" data-path="introduksjon-til-webscraping.html"><a href="introduksjon-til-webscraping.html"><i class="fa fa-check"></i><b>2</b> Introduksjon til webscraping</a><ul>
<li class="chapter" data-level="2.1" data-path="introduksjon-til-webscraping.html"><a href="introduksjon-til-webscraping.html#hva-er-webscraping"><i class="fa fa-check"></i><b>2.1</b> Hva er webscraping?</a></li>
<li class="chapter" data-level="2.2" data-path="introduksjon-til-webscraping.html"><a href="introduksjon-til-webscraping.html#eksempler-på-webscraping"><i class="fa fa-check"></i><b>2.2</b> Eksempler på webscraping</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="nettsidestruktur.html"><a href="nettsidestruktur.html"><i class="fa fa-check"></i><b>3</b> Nettsidestruktur</a><ul>
<li class="chapter" data-level="3.1" data-path="nettsidestruktur.html"><a href="nettsidestruktur.html#hva-er-en-nettside"><i class="fa fa-check"></i><b>3.1</b> Hva er en nettside?</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="nettsidespråk.html"><a href="nettsidespråk.html"><i class="fa fa-check"></i><b>4</b> Nettsidespråk</a><ul>
<li class="chapter" data-level="4.1" data-path="nettsidespråk.html"><a href="nettsidespråk.html#html"><i class="fa fa-check"></i><b>4.1</b> HTML</a></li>
<li class="chapter" data-level="4.2" data-path="nettsidespråk.html"><a href="nettsidespråk.html#andre-nettsidespråk"><i class="fa fa-check"></i><b>4.2</b> Andre nettsidespråk</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="utfordringer-hensyn-og-alternativer.html"><a href="utfordringer-hensyn-og-alternativer.html"><i class="fa fa-check"></i><b>5</b> Utfordringer, hensyn og alternativer</a><ul>
<li class="chapter" data-level="5.1" data-path="utfordringer-hensyn-og-alternativer.html"><a href="utfordringer-hensyn-og-alternativer.html#webscraping-og-webcrawling"><i class="fa fa-check"></i><b>5.1</b> Webscraping og webcrawling</a></li>
<li class="chapter" data-level="5.2" data-path="utfordringer-hensyn-og-alternativer.html"><a href="utfordringer-hensyn-og-alternativer.html#utfordringer-ved-webscraping"><i class="fa fa-check"></i><b>5.2</b> Utfordringer ved webscraping</a></li>
<li class="chapter" data-level="5.3" data-path="utfordringer-hensyn-og-alternativer.html"><a href="utfordringer-hensyn-og-alternativer.html#hensyn-å-ta-når-man-webscraper"><i class="fa fa-check"></i><b>5.3</b> Hensyn å ta når man webscraper</a></li>
<li class="chapter" data-level="5.4" data-path="utfordringer-hensyn-og-alternativer.html"><a href="utfordringer-hensyn-og-alternativer.html#alternativer-til-webscraping"><i class="fa fa-check"></i><b>5.4</b> Alternativer til webscraping</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="fra-html-til-tekst.html"><a href="fra-html-til-tekst.html"><i class="fa fa-check"></i><b>6</b> Fra HTML til tekst</a><ul>
<li class="chapter" data-level="6.1" data-path="fra-html-til-tekst.html"><a href="fra-html-til-tekst.html#fra-html-til-tekst-1"><i class="fa fa-check"></i><b>6.1</b> Fra HTML til tekst</a></li>
<li class="chapter" data-level="6.2" data-path="fra-html-til-tekst.html"><a href="fra-html-til-tekst.html#oppgave-1"><i class="fa fa-check"></i><b>6.2</b> Oppgave 1</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="fra-html-til-tabell.html"><a href="fra-html-til-tabell.html"><i class="fa fa-check"></i><b>7</b> Fra HTML til tabell</a><ul>
<li class="chapter" data-level="7.1" data-path="fra-html-til-tabell.html"><a href="fra-html-til-tabell.html#hente-ut-tabeller"><i class="fa fa-check"></i><b>7.1</b> Hente ut tabeller</a></li>
<li class="chapter" data-level="7.2" data-path="fra-html-til-tabell.html"><a href="fra-html-til-tabell.html#oppgave-2"><i class="fa fa-check"></i><b>7.2</b> Oppgave 2</a></li>
<li class="chapter" data-level="7.3" data-path="fra-html-til-tabell.html"><a href="fra-html-til-tabell.html#rydde-i-tabellen"><i class="fa fa-check"></i><b>7.3</b> Rydde i tabellen</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="andre-eksempler.html"><a href="andre-eksempler.html"><i class="fa fa-check"></i><b>8</b> Andre eksempler</a><ul>
<li class="chapter" data-level="8.1" data-path="andre-eksempler.html"><a href="andre-eksempler.html#hente-ut-lenker"><i class="fa fa-check"></i><b>8.1</b> Hente ut lenker</a></li>
<li class="chapter" data-level="8.2" data-path="andre-eksempler.html"><a href="andre-eksempler.html#hente-ut-json"><i class="fa fa-check"></i><b>8.2</b> Hente ut JSON</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="fasit.html"><a href="fasit.html"><i class="fa fa-check"></i><b>9</b> Fasit</a><ul>
<li class="chapter" data-level="9.1" data-path="fasit.html"><a href="fasit.html#oppgave-1-1"><i class="fa fa-check"></i><b>9.1</b> Oppgave 1</a></li>
<li class="chapter" data-level="9.2" data-path="fasit.html"><a href="fasit.html#oppgave-2-1"><i class="fa fa-check"></i><b>9.2</b> Oppgave 2</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Webscraping med R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="utfordringer-hensyn-og-alternativer" class="section level1">
<h1><span class="header-section-number">Kapittel 5</span> Utfordringer, hensyn og alternativer</h1>
<div id="webscraping-og-webcrawling" class="section level2">
<h2><span class="header-section-number">5.1</span> Webscraping og webcrawling</h2>
<p>Webscraping handler om å hente ut data. Webcrawling likner, men dette handler om å lage en funksjon som beveger seg gjennom lenker på et nettsted for å hente ut relevant informasjon. Vi så tidligere at vi kan bruke noden <code>&lt;href&gt;</code> i en nettside for å referere til andre nettsider. Når vi lager en funksjon som klikker seg inn på ulike lenker, bruker vi denne taggen for å vise til lenkene. De tyske forskerne hadde brukt en blanding av webcrawling og webscraping da de lot funksjonen gå inn på et utvalg nettsider innenfor nettstedet for å lokalisere korona-relaterte ord.</p>
<p><img src="figures/nettside2.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="utfordringer-ved-webscraping" class="section level2">
<h2><span class="header-section-number">5.2</span> Utfordringer ved webscraping</h2>
<p>Webscraping har mange fordeler, men det er heller ikke uten problemer. Eksempler på utfordringer inkluderer:</p>
<ul>
<li><strong>Klienten bestemmer</strong>: Vi kan ikke styre hva slags data som legges ut, vi må ta til takke med det som er. Denne dataen kan være biased, ukomplett eller feil, eller den kan være irrelevant for det vi prøver å finne ut av.</li>
<li><strong>Nettsideavhengighet</strong>: Mye kan skje på nettet. Nettsidene kan endre struktur, de kan si opp domenenavnet, endre navnet på nettsiden, osv. Alt dette vil påvirke muligheten for å hente informasjon, og gjøre det risikabelt å lage en kode som skal fungere regelmessig over tid.</li>
<li><strong>Serverbelastning</strong>: Serveren til klienten kan gå ned hvis nettstedet får veldig mye trafikk på en gang. Da blir man upopulær.</li>
</ul>
</div>
<div id="hensyn-å-ta-når-man-webscraper" class="section level2">
<h2><span class="header-section-number">5.3</span> Hensyn å ta når man webscraper</h2>
<p>Hvis vi skal hente ut mye informasjon fra en nettside raskt og hyppig, kan dette legge stort press på serveren. I verste fall kan serveren krasje, og da går alle nettsidene ned. Det er som om en bygning (server) med mange rom (nettsteder) plutselig stenger. Dette vil vi unngå. Pass derfor på å:</p>
<ul>
<li>Lagre data lokalt slik at man slipper å scrape flere ganger.</li>
<li>Sette inn en timer på et par sekunder som gjør at koden venter litt før den fører en ny spørring mot serveren.</li>
<li>Scrape bare det du faktisk trenger.</li>
<li>Sjekk en nettside sin robots.txt-fil for å finne ut hvilke sider nettsidebyggeren har bestemt kan webcrawles, og hvilke som ikke kan webcrawles.</li>
<li>nettside/robots.txt, f. eks. www.ssb.no/robots.txt</li>
</ul>
</div>
<div id="alternativer-til-webscraping" class="section level2">
<h2><span class="header-section-number">5.4</span> Alternativer til webscraping</h2>
<p>Enkelte nettsider tilbyr APIer for å hente ut data. API står for «Application Programming Interface», og er en måte vi kan dele informasjon på tvers av kildekoder. For eksempel kan det være at en nettside har en tabell på hjemmesiden sin, men samtidig tilbyr en mulighet for å laste tabellen ned via et API i form av f. eks. en csv-fil eller en json-fil.</p>
<p>For eksempel har denne siden til Skatteetaten: <a href="https://www.skatteetaten.no/presse/innsyn-kompensasjonsordning/" class="uri">https://www.skatteetaten.no/presse/innsyn-kompensasjonsordning/</a> en tabell som vi kunne scrapet ut. Samtidig har den imidlertid også en knapp som heter «Eksporter som», hvor vi kan få hele tabellen uten å scrape noe som helst. Noen APIer er betalte varer, og man kan jo da undres litt på lovligheten av å istedenfor scrape ut informasjonen. Det er, så vidt jeg vet, ingen klarhet i hva loven sier her.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="nettsidespråk.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="fra-html-til-tekst.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
