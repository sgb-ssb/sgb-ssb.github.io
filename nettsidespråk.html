<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Kapittel 4 Nettsidespråk | Webscraping med R</title>
  <meta name="description" content="Kapittel 4 Nettsidespråk | Webscraping med R" />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Kapittel 4 Nettsidespråk | Webscraping med R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Kapittel 4 Nettsidespråk | Webscraping med R" />
  
  
  

<meta name="author" content="Solveig Bjørkholt" />


<meta name="date" content="2020-07-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="nettsidestruktur.html"/>
<link rel="next" href="utfordringer-hensyn-og-alternativer.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduksjon</a></li>
<li class="chapter" data-level="2" data-path="introduksjon-til-webscraping.html"><a href="introduksjon-til-webscraping.html"><i class="fa fa-check"></i><b>2</b> Introduksjon til webscraping</a><ul>
<li class="chapter" data-level="2.1" data-path="introduksjon-til-webscraping.html"><a href="introduksjon-til-webscraping.html#hva-er-webscraping"><i class="fa fa-check"></i><b>2.1</b> Hva er webscraping?</a></li>
<li class="chapter" data-level="2.2" data-path="introduksjon-til-webscraping.html"><a href="introduksjon-til-webscraping.html#eksempler-på-webscraping"><i class="fa fa-check"></i><b>2.2</b> Eksempler på webscraping</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="nettsidestruktur.html"><a href="nettsidestruktur.html"><i class="fa fa-check"></i><b>3</b> Nettsidestruktur</a><ul>
<li class="chapter" data-level="3.1" data-path="nettsidestruktur.html"><a href="nettsidestruktur.html#hva-er-en-nettside"><i class="fa fa-check"></i><b>3.1</b> Hva er en nettside?</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="nettsidespråk.html"><a href="nettsidespråk.html"><i class="fa fa-check"></i><b>4</b> Nettsidespråk</a><ul>
<li class="chapter" data-level="4.1" data-path="nettsidespråk.html"><a href="nettsidespråk.html#html"><i class="fa fa-check"></i><b>4.1</b> HTML</a></li>
<li class="chapter" data-level="4.2" data-path="nettsidespråk.html"><a href="nettsidespråk.html#andre-nettsidespråk"><i class="fa fa-check"></i><b>4.2</b> Andre nettsidespråk</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="utfordringer-hensyn-og-alternativer.html"><a href="utfordringer-hensyn-og-alternativer.html"><i class="fa fa-check"></i><b>5</b> Utfordringer, hensyn og alternativer</a><ul>
<li class="chapter" data-level="5.1" data-path="utfordringer-hensyn-og-alternativer.html"><a href="utfordringer-hensyn-og-alternativer.html#webscraping-og-webcrawling"><i class="fa fa-check"></i><b>5.1</b> Webscraping og webcrawling</a></li>
<li class="chapter" data-level="5.2" data-path="utfordringer-hensyn-og-alternativer.html"><a href="utfordringer-hensyn-og-alternativer.html#utfordringer-ved-webscraping"><i class="fa fa-check"></i><b>5.2</b> Utfordringer ved webscraping</a></li>
<li class="chapter" data-level="5.3" data-path="utfordringer-hensyn-og-alternativer.html"><a href="utfordringer-hensyn-og-alternativer.html#hensyn-å-ta-når-man-webscraper"><i class="fa fa-check"></i><b>5.3</b> Hensyn å ta når man webscraper</a></li>
<li class="chapter" data-level="5.4" data-path="utfordringer-hensyn-og-alternativer.html"><a href="utfordringer-hensyn-og-alternativer.html#alternativer-til-webscraping"><i class="fa fa-check"></i><b>5.4</b> Alternativer til webscraping</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="fra-html-til-tekst.html"><a href="fra-html-til-tekst.html"><i class="fa fa-check"></i><b>6</b> Fra HTML til tekst</a><ul>
<li class="chapter" data-level="6.1" data-path="fra-html-til-tekst.html"><a href="fra-html-til-tekst.html#fra-html-til-tekst-1"><i class="fa fa-check"></i><b>6.1</b> Fra HTML til tekst</a></li>
<li class="chapter" data-level="6.2" data-path="fra-html-til-tekst.html"><a href="fra-html-til-tekst.html#oppgave-1"><i class="fa fa-check"></i><b>6.2</b> Oppgave 1</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="fra-html-til-tabell.html"><a href="fra-html-til-tabell.html"><i class="fa fa-check"></i><b>7</b> Fra HTML til tabell</a><ul>
<li class="chapter" data-level="7.1" data-path="fra-html-til-tabell.html"><a href="fra-html-til-tabell.html#hente-ut-tabeller"><i class="fa fa-check"></i><b>7.1</b> Hente ut tabeller</a></li>
<li class="chapter" data-level="7.2" data-path="fra-html-til-tabell.html"><a href="fra-html-til-tabell.html#oppgave-2"><i class="fa fa-check"></i><b>7.2</b> Oppgave 2</a></li>
<li class="chapter" data-level="7.3" data-path="fra-html-til-tabell.html"><a href="fra-html-til-tabell.html#rydde-i-tabellen"><i class="fa fa-check"></i><b>7.3</b> Rydde i tabellen</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="andre-eksempler.html"><a href="andre-eksempler.html"><i class="fa fa-check"></i><b>8</b> Andre eksempler</a><ul>
<li class="chapter" data-level="8.1" data-path="andre-eksempler.html"><a href="andre-eksempler.html#hente-ut-lenker"><i class="fa fa-check"></i><b>8.1</b> Hente ut lenker</a></li>
<li class="chapter" data-level="8.2" data-path="andre-eksempler.html"><a href="andre-eksempler.html#hente-ut-json"><i class="fa fa-check"></i><b>8.2</b> Hente ut JSON</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="fasit.html"><a href="fasit.html"><i class="fa fa-check"></i><b>9</b> Fasit</a><ul>
<li class="chapter" data-level="9.1" data-path="fasit.html"><a href="fasit.html#oppgave-1-1"><i class="fa fa-check"></i><b>9.1</b> Oppgave 1</a></li>
<li class="chapter" data-level="9.2" data-path="fasit.html"><a href="fasit.html#oppgave-2-1"><i class="fa fa-check"></i><b>9.2</b> Oppgave 2</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Webscraping med R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="nettsidespråk" class="section level1">
<h1><span class="header-section-number">Kapittel 4</span> Nettsidespråk</h1>
<div id="html" class="section level2">
<h2><span class="header-section-number">4.1</span> HTML</h2>
<p>HTML står for “Hyper Text Markup Language”. Det ble utviklet på 1990-tallet<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>, og er bakgrunnen for nettsidene vi går inn på. Gå inn på en nettside, for eksempel www.ssb.no, høyreklikk på siden og velg “inspiser”. Da får du opp HTML-koden som bygger opp nettsiden.</p>
<p><img src="figures/html_ssb.png" width="100%" style="display: block; margin: auto;" /></p>
HTML-koden er hierarkisk. Øverste nivå spesifiserer at dette er HTML-kode. Vi ser dette øverst, der det står
<html>
<p>, samt en spesifikasjon av at språket skal være norsk. Deretter kommer det to noder, som er hovedseksjoner i koden. Disse er <code>&lt;head&gt;</code> og <code>&lt;body&gt;</code>.</p>
<ul>
<li>**
<head>
**: Metadata knyttet til filen, for eksempel tittel på dokumentet, beskrivelse av dokumentet, importerte ressurser til HTML-filen, også videre.</li>
<li>**
<body>
**: Innhold på nettsiden, alt som viser på nettsiden av tekst, tabeller, bilder, figurer, osv.</li>
</ul>
<p>Vi ser på www.ssb.no at <code>&lt;head&gt;</code> inneholder informasjon om for eksempel beskrivelse av nettsiden i form av hva SSB sitt mandat er og referanser til Google Analytics. I <code>&lt;body&gt;</code> kommer informasjon om overskrifter, tekst, bilder, tabeller, og alt annet som vi ser på nettsiden. HTML har innrykk på de delene som hører sammen, slik at koden får en svært hierarkisk struktur. På mange måter likner kodestrukturen på et tre, og HTML-kodere refererer gjerne til deler av koden som om det var et familietre. Nodene <code>&lt;head&gt;</code> og <code>&lt;body&gt;</code> er “barn” av noden <code>&lt;html&gt;</code>, og <code>&lt;div&gt;</code>, som er en node under <code>&lt;body&gt;</code>, er barnebarn til <code>&lt;html&gt;</code>.</p>
<p>For å forstå bedre hvordan nettsiden er bygget opp, kan vi skrive vår egne enkle HTML-kode og få web-browseren vår til å “parse”, det vil si forstå og oversette, HTML-koden til grafisk output.</p>
<ol style="list-style-type: decimal">
<li>Åpne notepad på PC-en din.</li>
<li>Skriv inn følgende kode:</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="op">&lt;</span>html<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="st">    </span><span class="er">&lt;</span>head<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="st">        </span><span class="er">&lt;</span>title<span class="op">&gt;</span>Testside<span class="op">&lt;</span><span class="er">/</span>title<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="st">    </span><span class="er">&lt;/</span>head<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="st">    </span><span class="er">&lt;</span>body<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="st">        </span><span class="er">&lt;</span>h2<span class="op">&gt;</span><span class="st"> </span>Overskrift <span class="op">&lt;</span><span class="er">/</span>h2<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="st">        </span>Her har vi en nettside kalt <span class="op">&lt;</span>a href =<span class="st"> </span>https<span class="op">:</span><span class="er">//</span>www.ssb.no<span class="op">/</span><span class="er">&gt;</span><span class="st"> </span>SSB <span class="op">&lt;</span><span class="er">/</span>a<span class="op">&gt;</span>.</a>
<a class="sourceLine" id="cb1-8" title="8">        <span class="op">&lt;</span>br<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="st">        </span><span class="er">&lt;</span>br<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="st">        </span>Der kan man hente statistikk.</a>
<a class="sourceLine" id="cb1-11" title="11">    <span class="op">&lt;</span><span class="er">/</span>body<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="er">&lt;/</span>html<span class="op">&gt;</span></a></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Lagre filen i en mappe på PC-en din. Kall den noe som slutter på <em>.html</em>, for eksempel <em>test.html</em>.</li>
<li>Åpne mappen og dra filen inn i en fane i web-browseren din.</li>
</ol>
<p>Merk at hver node avsluttes med en skråstrek og samme nodenavn som ble brukt for å initiere den. Vi ser også hvordan hver undernode hører til noden over.</p>
<ul>
<li><code>&lt;title&gt;</code>: Gir navn til fanen på nettsiden.</li>
<li><code>&lt;h2&gt;</code>: Setter overskrift. Hadde noden vært <code>&lt;h1&gt;</code> hadde skriftstørrelsen vært enda større, og hadde den vært <code>&lt;h3&gt;</code> hadde den vært mindre.</li>
<li><code>&lt;br&gt;</code>: Refererer til mellomrom mellom avsnitt.</li>
<li><code>&lt;href&gt;</code>: Referanser til nettsider.</li>
</ul>
<p>Dersom du inspiserer nettsiden som du har lagret og åpnet i browseren din, kan du se akkurat samme HTML-kode som den vi skrev over.</p>
<p>Tilbake til www.ssb.no så ser vi at denne HTML-koden er mye mer kompleks, men de samme reglene gjelder. Ofte er den informasjonen vi ønsker å hente ut fra nettsider å finne et sted inne i <code>&lt;body&gt;</code>-noden. Denne noden er delt opp i ulike deler, deriblant <code>&lt;div&gt;</code> som står for “division” og <code>&lt;p&gt;</code> som står for “paragraph”. De delene av nettsiden som HTML-koden refererer til, lyser opp når vi beveger musepekeren over dem. Desto dypere inn i HTML-treet vi går, desto mer spesifisert blir informasjonen koden viser til.</p>
<p>Sett at vi ønsker å hente ut informasjon fra boksen “NAVNESØK”. Da kan vi høyreklikke på denne boksen, velge “inspiser”, og så får vi opp denne delen av HTML-koden. <code>&lt;h3&gt;</code> er en overskriftstype og <code>&lt;p&gt;</code> er et avsnitt hvor vi også kan se hva slags tekst som er inne i avsnittet. Det er denne noden vi ville referert til dersom vi skulle webscrapet ut innholdet i NAVNESØK-boksen.</p>
</div>
<div id="andre-nettsidespråk" class="section level2">
<h2><span class="header-section-number">4.2</span> Andre nettsidespråk</h2>
<p>Det er ikke uvanlig å snuble over andre språk enn HTML på nettsider. Vi kan for eksempel komme over CSS og Javascript. Dette er lurt å vite om, for det kan skape en del frustrasjon dersom man ser et objekt på en nettside, vil hente ut informasjon om objektet via webscraping, men så viser det seg at vanlige metoder basert på HTML ikke fungerer. Derfor vil jeg kjapt gå gjennom enkelte andre språk som bygger opp nettsider her.</p>
<hr />
<p><strong>CSS</strong>: Står for <em>Cascading Style Sheets</em>, og brukes til å definere utseendet på nettsider utover det HTML kan gjøre. CSS gir større frihet enn HTML til å bestemme tekststørrelser, fonter, farger, formateringer, også videre.</p>
<p><img src="figures/withandwithoutcss.png" width="80%" style="display: block; margin: auto;" /></p>
<p><strong>Javascript</strong>: Javascript brukes for å skape interaktive nettsider, for eksempel mulighet for å holde musemarkøren over en graf og verdien på koordinatet. Highcharts, som i blant brukes i SSB, baserer seg for eksempel på Javascript.</p>
<p><img src="figures/jsexample.gif" /></p>
<p><strong>XML</strong>: Står for <em>Extensible Markup Language</em>. Dette språket brukes å dele strukturerte data over nettet gjennom informasjonssystemer. Hvis vi for eksempel skal hente ut tabeller fra en nettside, kan det godt være at disse er lagret i XML.</p>
<p><strong>JSON</strong>: Står for «Javascript Object Notation”. Dette er også en måte å lagre data i strukturert format i en nettside, og nyere nettsider bruker ofte JSON framfor XML.</p>
<p>Det er gjerne slik at HTML-koden referer til eksterne dokumenter skrevet i disse språkene, slik at vi ser det som en slags filsti i HTML-koden. Hvis vi går tilbake til www.ssb.no kan vi for eksempel se at det finnes noder under <code>&lt;head&gt;</code>-noden som referer til både CSS-filer og Javascript-filer. Disse kodesnuttene refereres gjerne til som eksterne lenker (<code>&lt;href&gt;</code>) eller script som blir sourcet inn (<code>&lt;src&gt;</code>), og kan for eksempel se slik ut:</p>
<p><img src="figures/reftojsandcss.png" width="40%" style="display: block; margin: auto;" /></p>
<p>På SSB-nettsiden ser det for eksempel slik ut:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1">CSS<span class="op">:</span><span class="st"> </span><span class="er">&lt;</span>link href=<span class="st">&quot;/_public/skins/advanced/ssb.no/styles/styles.css?_ts=16e928d4c60&quot;</span> type=<span class="st">&quot;text/css&quot;</span> rel=<span class="st">&quot;stylesheet&quot;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb2-2" title="2"></a>
<a class="sourceLine" id="cb2-3" title="3">Javascript<span class="op">:</span><span class="st"> </span><span class="er">&lt;</span>script type=<span class="st">&quot;text/javascript&quot;</span> async=<span class="st">&quot;&quot;</span> src=<span class="st">&quot;//siteimproveanalytics.com/js/siteanalyze_6003075.js&quot;</span><span class="op">&gt;</span><span class="er">&lt;/</span>script<span class="op">&gt;</span></a></code></pre></div>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="2">
<li id="fn2"><p>Tim Berners-Lee la frem HTML første gang, den samme mannen som regnes som “oppfinneren av internettet”.<a href="nettsidespråk.html#fnref2" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="nettsidestruktur.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="utfordringer-hensyn-og-alternativer.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
